/**
 * Full Width Layout - AGGRESSIVE - Remove ALL margins and padding
 * Makes all pages completely full width with NO spacing
 *
 * @package    theme_remui_kids
 * @copyright  2024 Riyada Trainings
 */

/* ========== NUCLEAR OPTION - Remove ALL spacing ========== */

/* Remove from body and all containers */
body,
body * {
    box-sizing: border-box !important;
}

body {
    margin: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    padding: 0 !important;
}

/* CRITICAL - Fix body margin for all theme pages */
body[id*="page-theme-remui_kids"] {
    margin: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding: 0 !important;
}

/* Remove from all page elements */
#page-wrapper,
#page,
#page-content,
#page-content .row,
#region-main-box,
#region-main-settings-menu {
    margin: 0 !important;
    padding: 0 !important;
    max-width: 100% !important;
}

/* MAIN CONTENT REGION - CENTERED WITH SIDEBAR SPACING */
#region-main {
    margin: 0 auto !important;
    padding: 20px !important;
    max-width: calc(100% - 40px) !important;
    width: 100% !important;
    box-sizing: border-box !important;
}

/* Force remove from all Bootstrap elements */
.container,
.container-fluid,
.row,
[class*="col-"],
[class*="offset-"] {
    margin: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding: 0 !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    max-width: 100% !important;
}

/* Force remove from content wrappers */
.main-content,
.main-content-wrapper,
.content-wrapper,
#content {
    margin: 0 !important;
    padding: 0 !important;
    max-width: 100% !important;
}

/* Remove from all page layout types */
.pagelayout-admin,
.pagelayout-standard,
.pagelayout-course,
.pagelayout-incourse,
.pagelayout-report,
.pagelayout-mydashboard,
.pagelayout-base {
    #page,
    #page-content,
    #page-wrapper {
        margin: 0 !important;
        padding: 0 !important;
    }
}

/* Remove from specific page IDs */
body[id*="page-"] #page,
body[id*="page-"] #page-content {
    margin: 0 !important;
    padding: 0 !important;
}

/* Course content */
.course-content,
.course-content .container-fluid {
    margin: 0 !important;
    padding: 0 !important;
}

/* Secondary navigation */
.secondary-navigation,
.edw-tabs-navigation {
    margin: 0 !important;
    padding: 0 !important;
}

/* Tables */
.generaltable {
    width: 100% !important;
    margin: 0 !important;
}

/* Drawers */
.drawer-open-left #page,
.drawer-open-left #page-content {
    margin-left: 0 !important;
}

/* ========== ADMIN USER WITH SIDEBAR ========== */

/* Admin users get sidebar space only on page-wrapper */
body.admin-user #page-wrapper {
    margin-left: 280px !important;
    margin-right: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
    padding: 0 !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
}

/* But everything inside has NO margins */
body.admin-user #page,
body.admin-user #page-content,
body.admin-user #page-content .row,
body.admin-user #region-main-box,
body.admin-user .container,
body.admin-user .container-fluid,
body.admin-user [class*="col-"] {
    margin: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding: 0 !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
}

/* Admin users with sidebar - maintain centered content */
body.admin-user #region-main {
    margin: 0 auto !important;
    padding: 20px !important;
    max-width: calc(100% - 40px) !important;
    margin-left: 20px !important;
}

/* Specific fix for reportbuilder pages */
body[class*="reportbuilder"] #page,
body[class*="reportbuilder"] #page-wrapper,
body[class*="reportbuilder"] #page-content,
body[class*="reportbuilder"] #region-main,
body[class*="reportbuilder"] #region-main-box,
body[class*="reportbuilder"] .container-fluid,
body[class*="reportbuilder"] .row,
body[class*="reportbuilder"] [class*="col-"] {
    margin: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
}

body[class*="reportbuilder"] #region-main,
body.admin-user[class*="reportbuilder"] #region-main {
    padding: 1rem 0 !important;
}

/* But keep the page-wrapper margin for sidebar space - increased for wider sidebar */
body.admin-user #page-wrapper {
    margin-left: 320px !important;
    margin-right: 0 !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
}

/* Reportbuilder content should have minimal horizontal padding */
body[class*="reportbuilder"] .reportbuilder-container,
body[class*="reportbuilder"] .reportbuilder-report {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
}

/* ========== NON-ADMIN USERS (NO SIDEBAR) ========== */

body:not(.admin-user) #page-wrapper,
body:not(.admin-user) #page,
body:not(.admin-user) #page-content {
    margin: 0 !important;
    padding: 0 !important;
}

/* Non-admin users - centered content */
body:not(.admin-user) #region-main {
    margin: 0 auto !important;
    padding: 20px !important;
    max-width: calc(100% - 40px) !important;
}

/* Make all custom page containers centered with reduced width */
.enrollments-container,
.teachers-container,
.user-details-container,
.schools-container {
    max-width: calc(100% - 40px) !important;
    width: 100% !important;
    padding: 0 !important;
    margin: 0 auto !important;
    box-sizing: border-box !important;
}

/* Constrain courses and schools dashboard card container width - CENTERED */
body.page-mycourses .dashboard-cards,
body.page-myschools .dashboard-cards-container,
body.page-mycoursesprogram .dashboard-cards-container,
.dashboard-cards-container {
    max-width: calc(100% - 40px) !important;
    margin: 0 auto !important;
    padding: 20px 0 !important;
    box-sizing: border-box !important;
}

/* Ensure proper card spacing */
body.page-mycourses .dashboard-cards .row,
body.page-myschools .dashboard-cards-container .row {
    margin-left: -15px !important;
    margin-right: -15px !important;
}

body.page-mycourses .dashboard-cards [class*="col-"],
body.page-myschools .dashboard-cards-container [class*="col-"] {
    padding-left: 15px !important;
    padding-right: 15px !important;
    margin-bottom: 30px !important;
}

/* ========== MOBILE RESPONSIVE ========== */

@media (max-width: 768px) {
    #region-main {
        padding: 15px !important;
        max-width: calc(100% - 30px) !important;
    }
    
    .secondary-navigation {
        padding: 0 15px !important;
    }
    
    body.admin-user #page-wrapper {
        margin-left: 0 !important;
        width: 100% !important;
    }
    
    .enrollments-container,
    .teachers-container,
    .user-details-container,
    .schools-container {
        max-width: calc(100% - 30px) !important;
        padding: 0 !important;
    }
}

@media (max-width: 576px) {
    #region-main {
        padding: 10px !important;
        max-width: calc(100% - 20px) !important;
    }
    
    .enrollments-container,
    .teachers-container,
    .user-details-container,
    .schools-container {
        max-width: calc(100% - 20px) !important;
        padding: 0 !important;
    }
}

/* ========== SPECIFIC PAGE FIXES ========== */

/* Override limitedwidth class completely */
body.limitedwidth,
.limitedwidth {
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
}

/* Full width for courses and schools pages */
body.page-mycourses,
body.page-myschools,
body.fullwidth-layout {
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
}

body.page-mycourses #page,
body.page-myschools #page,
body.fullwidth-layout #page {
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
}

body.page-mycourses #page-wrapper,
body.page-myschools #page-wrapper,
body.fullwidth-layout #page-wrapper {
    max-width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding: 0 !important;
}

/* Admin users with sidebar */
body.admin-user.page-mycourses #page-wrapper,
body.admin-user.page-myschools #page-wrapper,
body.admin-user.fullwidth-layout #page-wrapper {
    margin-left: 280px !important;
    margin-right: 0 !important;
    padding: 0 !important;
}

body.page-mycourses #page-content,
body.page-myschools #page-content,
body.fullwidth-layout #page-content {
    margin: 0 !important;
    padding: 0 !important;
}

body.page-mycourses .container-fluid,
body.page-myschools .container-fluid,
body.fullwidth-layout .container-fluid {
    margin: 0 !important;
    padding: 0 !important;
    max-width: 100% !important;
}

/* Fix card spacing - smaller cards in rows with minimal spacing */
body.page-mycourses .card-deck,
body.page-myschools .card-deck,
body.fullwidth-layout .card-deck {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
    gap: 0.75rem !important;
    margin: 0 !important;
}

body.page-mycourses .card,
body.page-myschools .card,
body.fullwidth-layout .card {
    margin: 0 !important;
    margin-bottom: 0 !important;
    max-height: 300px !important;
}

/* Reduce card body padding */
body.page-mycourses .card-body,
body.page-myschools .card-body,
body.fullwidth-layout .card-body {
    padding: 1rem !important;
}

/* Fix for block regions and content areas */
body.page-mycourses #region-main > *,
body.page-myschools #region-main > *,
body.fullwidth-layout #region-main > * {
    margin-bottom: 0.75rem !important;
}

/* Add minimal spacing for rows */
body.page-mycourses .row,
body.page-myschools .row,
body.fullwidth-layout .row {
    margin: 0 !important;
    margin-right: -0.375rem !important;
    margin-left: -0.375rem !important;
    margin-bottom: 0.75rem !important;
}

/* Add minimal spacing for columns */
body.page-mycourses [class*="col-"],
body.page-myschools [class*="col-"],
body.fullwidth-layout [class*="col-"] {
    padding-left: 0.375rem !important;
    padding-right: 0.375rem !important;
    margin-bottom: 0.75rem !important;
}

/* ========== FORCE CONTENT CENTERING - ULTRA STRONG ========== */

/* Force all main content to be centered with proper spacing - HIGHEST PRIORITY */
body[id*="page-theme-remui_kids"] #region-main,
body.page-myenrollments #region-main,
body.page-myteachers #region-main,
body.page-myschools #region-main,
body.page-mycourses #region-main,
body.fullwidth-layout #region-main {
    margin: 0 auto !important;
    padding: 20px !important;
    max-width: calc(100% - 40px) !important;
    width: 100% !important;
    box-sizing: border-box !important;
    display: block !important;
    position: relative !important;
}

/* Admin users with sidebar - maintain 20px left margin from sidebar */
body.admin-user[id*="page-theme-remui_kids"] #region-main,
body.admin-user.page-myenrollments #region-main,
body.admin-user.page-myteachers #region-main,
body.admin-user.page-myschools #region-main,
body.admin-user.page-mycourses #region-main,
body.admin-user.fullwidth-layout #region-main {
    margin: 0 auto !important;
    margin-left: 20px !important;
    padding: 20px !important;
    max-width: calc(100% - 40px) !important;
    width: 100% !important;
    box-sizing: border-box !important;
    display: block !important;
    position: relative !important;
}

/* Force all page content containers to be centered */
body[id*="page-theme-remui_kids"] #page-content,
body.page-myenrollments #page-content,
body.page-myteachers #page-content,
body.page-myschools #page-content,
body.page-mycourses #page-content,
body.fullwidth-layout #page-content {
    margin: 0 auto !important;
    padding: 0 !important;
    max-width: 100% !important;
    width: 100% !important;
    display: block !important;
}

/* Force all custom containers to be centered - ULTRA SPECIFIC */
body[id*="page-theme-remui_kids"] .enrollments-container,
body[id*="page-theme-remui_kids"] .teachers-container,
body[id*="page-theme-remui_kids"] .user-details-container,
body[id*="page-theme-remui_kids"] .schools-container,
body[id*="page-theme-remui_kids"] .user-management-container,
body[id*="page-theme-remui_kids"] .teacher-view-container,
body[id*="page-theme-remui_kids"] .suspended-schools-container,
body.page-myenrollments .enrollments-container,
body.page-myteachers .teachers-container,
body.page-myschools .schools-container,
body.page-mycourses .enrollments-container,
body.fullwidth-layout .enrollments-container,
body.fullwidth-layout .teachers-container,
body.fullwidth-layout .user-details-container,
body.fullwidth-layout .schools-container,
body.fullwidth-layout .user-management-container,
body.fullwidth-layout .teacher-view-container,
body.fullwidth-layout .suspended-schools-container {
    margin: 0 auto !important;
    padding: 0 !important;
    max-width: calc(100% - 40px) !important;
    width: 100% !important;
    box-sizing: border-box !important;
    display: block !important;
    position: relative !important;
}

/* ========== LAST RESORT - UNIVERSAL ========== */

/* Nuclear option for any remaining spacing */
*:not(.card):not([class*="col-"]):not(.row) {
    max-width: 100% !important;
}

/* But exclude specific elements that need their width */
img,
svg,
video,
iframe,
input,
button,
select,
textarea,
.card,
.card-deck,
[class*="col-"],
.row {
    max-width: none !important;
}

/* Restore proper Bootstrap grid behavior for cards - minimal spacing */
.card-deck > .card {
    flex: 1 0 0%;
    margin-right: 0.375rem;
    margin-bottom: 0.75rem;
    margin-left: 0.375rem;
}

.card-deck {
    display: flex;
    flex-flow: row wrap;
    margin-right: -0.375rem;
    margin-left: -0.375rem;
}

/* For Bootstrap grid columns - minimal spacing */
.row {
    display: flex;
    flex-wrap: wrap;
    margin-right: -0.375rem;
    margin-left: -0.375rem;
}

[class*="col-"] {
    position: relative;
    width: 100%;
    padding-right: 0.375rem;
    padding-left: 0.375rem;
}

/* Make cards fit 4 per row on large screens */
@media (min-width: 1200px) {
    body.page-mycourses .card-deck,
    body.page-myschools .card-deck,
    body.fullwidth-layout .card-deck {
        grid-template-columns: repeat(4, 1fr) !important;
    }
}

/* 3 cards per row on medium screens */
@media (min-width: 768px) and (max-width: 1199px) {
    body.page-mycourses .card-deck,
    body.page-myschools .card-deck,
    body.fullwidth-layout .card-deck {
        grid-template-columns: repeat(3, 1fr) !important;
    }
}

/* 2 cards per row on small screens */
@media (min-width: 576px) and (max-width: 767px) {
    body.page-mycourses .card-deck,
    body.page-myschools .card-deck,
    body.fullwidth-layout .card-deck {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

/* 1 card per row on mobile */
@media (max-width: 575px) {
    body.page-mycourses .card-deck,
    body.page-myschools .card-deck,
    body.fullwidth-layout .card-deck {
        grid-template-columns: 1fr !important;
    }
    
    .enrollments-container,
    .teachers-container,
    .user-details-container,
    .schools-container {
        padding: 0 15px !important;
        max-width: 100% !important;
    }
    
    /* On mobile, dashboard containers use full width with padding */
    body.page-mycourses .dashboard-cards,
    body.page-myschools .dashboard-cards-container,
    .dashboard-cards-container {
        max-width: 100% !important;
        padding: 15px !important;
    }
}

/* ========== FINAL OVERRIDE - FORCE CENTERING ========== */

/* This is the final override to ensure content is centered */
#region-main {
    margin: 0 auto !important;
    padding: 20px !important;
    max-width: calc(100% - 40px) !important;
    width: 100% !important;
    box-sizing: border-box !important;
    display: block !important;
}

/* Admin users with sidebar */
body.admin-user #region-main {
    margin: 0 auto !important;
    margin-left: 20px !important;
    padding: 20px !important;
    max-width: calc(100% - 40px) !important;
    width: 100% !important;
    box-sizing: border-box !important;
    display: block !important;
}

/* All custom containers */
.enrollments-container,
.teachers-container,
.user-details-container,
.schools-container,
.user-management-container,
.teacher-view-container,
.suspended-schools-container {
    margin: 0 auto !important;
    padding: 0 !important;
    max-width: calc(100% - 40px) !important;
    width: 100% !important;
    box-sizing: border-box !important;
    display: block !important;
}
